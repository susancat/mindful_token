"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/users";
exports.ids = ["pages/api/users"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "(api)/./models/user.js":
/*!************************!*\
  !*** ./models/user.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: String,\n    email: String,\n    icon: String,\n    images: Array,\n    wallet: String,\n    mintPassId: Array,\n    allowSubmission: {\n        type: Boolean,\n        default: true\n    },\n    submissionTime: Date\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models.User) || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", UserSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvdXNlci5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBK0I7QUFFL0IsS0FBSyxDQUFDQyxVQUFVLEdBQUcsR0FBRyxDQUFDRCx3REFBZSxDQUFDLENBQUM7SUFDcENHLElBQUksRUFBRUMsTUFBTTtJQUNaQyxLQUFLLEVBQUVELE1BQU07SUFDYkUsSUFBSSxFQUFFRixNQUFNO0lBQ1pHLE1BQU0sRUFBRUMsS0FBSztJQUNiQyxNQUFNLEVBQUVMLE1BQU07SUFDZE0sVUFBVSxFQUFFRixLQUFLO0lBQ2pCRyxlQUFlLEVBQUUsQ0FBQztRQUFDQyxJQUFJLEVBQUVDLE9BQU87UUFBRUMsT0FBTyxFQUFFLElBQUk7SUFBQyxDQUFDO0lBQ2pEQyxjQUFjLEVBQUVDLElBQUk7QUFDeEIsQ0FBQztBQUVELGlFQUFlaEIsNkRBQW9CLElBQUlBLHFEQUFjLENBQUMsQ0FBTSxPQUFFQyxVQUFVLENBQUMsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL21pbmRmdWxfdG9rZW4vLi9tb2RlbHMvdXNlci5qcz82NTk0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIlxuXG5jb25zdCBVc2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgbmFtZTogU3RyaW5nLFxuICAgIGVtYWlsOiBTdHJpbmcsXG4gICAgaWNvbjogU3RyaW5nLFxuICAgIGltYWdlczogQXJyYXksXG4gICAgd2FsbGV0OiBTdHJpbmcsXG4gICAgbWludFBhc3NJZDogQXJyYXksXG4gICAgYWxsb3dTdWJtaXNzaW9uOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfSxcbiAgICBzdWJtaXNzaW9uVGltZTogRGF0ZVxufSlcblxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWxzLlVzZXIgfHwgbW9uZ29vc2UubW9kZWwoXCJVc2VyXCIsIFVzZXJTY2hlbWEpOyJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlVzZXJTY2hlbWEiLCJTY2hlbWEiLCJuYW1lIiwiU3RyaW5nIiwiZW1haWwiLCJpY29uIiwiaW1hZ2VzIiwiQXJyYXkiLCJ3YWxsZXQiLCJtaW50UGFzc0lkIiwiYWxsb3dTdWJtaXNzaW9uIiwidHlwZSIsIkJvb2xlYW4iLCJkZWZhdWx0Iiwic3VibWlzc2lvblRpbWUiLCJEYXRlIiwibW9kZWxzIiwiVXNlciIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./models/user.js\n");

/***/ }),

/***/ "(api)/./pages/api/users/index.js":
/*!**********************************!*\
  !*** ./pages/api/users/index.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _utils_connection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils/connection */ \"(api)/./utils/connection.js\");\n/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/user */ \"(api)/./models/user.js\");\n\n\nasync function handler(req, res) {\n    await (0,_utils_connection__WEBPACK_IMPORTED_MODULE_0__.connect)(); //if put this inside the try/catch will be much slower\n    const catcher = (err)=>res.status(400).json({\n            err\n        })\n    ;\n    if (req.method === 'GET') {\n        try {\n            const email = req.query.email;\n            // console.log(email);\n            res.json(await _models_user__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n                \"email\": email\n            }).catch(catcher));\n        } catch (err) {\n            res.status(500).json(err);\n        }\n    } else if (req.method === 'POST') {\n        //update only if the user has minted to avoid multi-times POST call\n        try {\n            const email = req.body.email;\n            const wallet = req.body.account;\n            // console.log(req.body);\n            const existingUser = await _models_user__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n                \"email\": email\n            });\n            if (!existingUser) {\n                res.status(404).send('Sorry, please login from Mindful Ocean mobile app to create an account!');\n            } else {\n                //update the user here, should without await to avoid \"query sent error\"\n                _models_user__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOneAndUpdate({\n                    \"email\": email\n                }, {\n                    wallet: wallet\n                }, (err, updatedUser)=>{\n                    if (err) {\n                        console.log(err);\n                    } else {\n                        console.log(\"updated\");\n                    }\n                });\n            }\n        } catch (err) {\n            res.status(500).json(err);\n        }\n    } else if (req.method === 'PUT') {\n        try {\n            const email = req.body.email;\n            const tokenId = req.body.tokenId;\n            const index = req.body.index;\n            // console.log(req.body);\n            const existingUser = await _models_user__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n                \"email\": email\n            });\n            if (!existingUser) {\n                res.status(404).send('Sorry, please login by your twitter account first!');\n            } else {\n                //update the user here, should without await to avoid \"query sent error\"\n                existingUser.mintPassId.push(tokenId); //push will return new length of the array\n                // const cutImgArr = existingUser.images.splice(index, 1);\n                //the above array will be the part cut\n                existingUser.images.splice(index, 1);\n                _models_user__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOneAndUpdate({\n                    \"email\": email\n                }, {\n                    mintPassId: existingUser.mintPassId,\n                    images: existingUser.images,\n                    allowSubmission: false,\n                    submissionTime: new Date()\n                }, (err, updatedUser)=>{\n                    if (err) {\n                        console.log(err);\n                    } else {\n                        console.log(\"removed\");\n                    }\n                });\n            }\n        } catch (err) {\n            res.status(500).json(err);\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RCxFQUFFLEdBQUVPLFlBQVksRUFBRSxDQUFDO2dCQUNqQmIsR0FBRyxDQUFDRyxNQUFNLENBQUMsR0FBRyxFQUFFVyxJQUFJLENBQUMsQ0FBb0Q7WUFDM0UsQ0FBQyxNQUFNLENBQUM7Z0JBQ04sRUFBd0U7Z0JBQ3hFRCxZQUFZLENBQUNRLFVBQVUsQ0FBQ0MsSUFBSSxDQUFDSCxPQUFPLEVBQUUsQ0FBMEM7Z0JBQ2hGLEVBQTBEO2dCQUMxRCxFQUFzQztnQkFDdENOLFlBQVksQ0FBQ1UsTUFBTSxDQUFDQyxNQUFNLENBQUNKLEtBQUssRUFBRSxDQUFDO2dCQUNuQ3ZCLHFFQUFxQixDQUFDLENBQUM7b0JBQUEsQ0FBTyxRQUFFUyxLQUFLO2dCQUFBLENBQUMsRUFDdEMsQ0FBQztvQkFDQ2UsVUFBVSxFQUFFUixZQUFZLENBQUNRLFVBQVU7b0JBQ25DRSxNQUFNLEVBQUVWLFlBQVksQ0FBQ1UsTUFBTTtvQkFDM0JFLGVBQWUsRUFBRSxLQUFLO29CQUN0QkMsY0FBYyxFQUFFLEdBQUcsQ0FBQ0MsSUFBSTtnQkFDMUIsQ0FBQyxHQUFHekIsR0FBRyxFQUFFYyxXQUFXLEdBQUssQ0FBQztvQkFDeEIsRUFBRSxFQUFDZCxHQUFHLEVBQUUsQ0FBQzt3QkFDUGUsT0FBTyxDQUFDQyxHQUFHLENBQUNoQixHQUFHO29CQUNqQixDQUFDLE1BQU0sQ0FBQzt3QkFDTmUsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBUztvQkFDdkIsQ0FBQztnQkFDSCxDQUFDO1lBRUgsQ0FBQztRQUNILENBQUMsQ0FBQyxLQUFLLEVBQUVoQixHQUFHLEVBQUUsQ0FBQztZQUNmRixHQUFHLENBQUNHLE1BQU0sQ0FBQyxHQUFHLEVBQUVDLElBQUksQ0FBQ0YsR0FBRztRQUN6QixDQUFDO0lBQ0YsQ0FBQztBQUNILENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taW5kZnVsX3Rva2VuLy4vcGFnZXMvYXBpL3VzZXJzL2luZGV4LmpzPzFkOGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gXCIuLi8uLi8uLi91dGlscy9jb25uZWN0aW9uXCI7XG5pbXBvcnQgVXNlciBmcm9tIFwiLi4vLi4vLi4vbW9kZWxzL3VzZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBhd2FpdCBjb25uZWN0KCk7Ly9pZiBwdXQgdGhpcyBpbnNpZGUgdGhlIHRyeS9jYXRjaCB3aWxsIGJlIG11Y2ggc2xvd2VyXG4gIGNvbnN0IGNhdGNoZXIgPSAoIGVyciApID0+IHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyIH0pXG4gIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykgeyAvL2ZldGNoIGFsbCB1c2Vyc1xuICAgIHRyeSB7XG4gICAgY29uc3QgZW1haWwgPSByZXEucXVlcnkuZW1haWw7XG4gICAgLy8gY29uc29sZS5sb2coZW1haWwpO1xuICAgIHJlcy5qc29uKGF3YWl0IFVzZXIuZmluZE9uZSh7XCJlbWFpbFwiOiBlbWFpbH0pLmNhdGNoKGNhdGNoZXIpKVxuICAgIH0gY2F0Y2goZXJyKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbihlcnIpO1xuICAgIH1cbiAgfSBlbHNlIGlmKHJlcS5tZXRob2QgPT09ICdQT1NUJykgeyBcbiAgICAvL3VwZGF0ZSBvbmx5IGlmIHRoZSB1c2VyIGhhcyBtaW50ZWQgdG8gYXZvaWQgbXVsdGktdGltZXMgUE9TVCBjYWxsXG4gICAgdHJ5e1xuICAgICAgY29uc3QgZW1haWwgPSByZXEuYm9keS5lbWFpbDtcbiAgICAgIGNvbnN0IHdhbGxldCA9IHJlcS5ib2R5LmFjY291bnQ7XG4gICAgICAvLyBjb25zb2xlLmxvZyhyZXEuYm9keSk7XG4gICAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1wiZW1haWxcIjogZW1haWx9KTtcbiAgICAgIGlmKCFleGlzdGluZ1VzZXIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ1NvcnJ5LCBwbGVhc2UgbG9naW4gZnJvbSBNaW5kZnVsIE9jZWFuIG1vYmlsZSBhcHAgdG8gY3JlYXRlIGFuIGFjY291bnQhJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL3VwZGF0ZSB0aGUgdXNlciBoZXJlLCBzaG91bGQgd2l0aG91dCBhd2FpdCB0byBhdm9pZCBcInF1ZXJ5IHNlbnQgZXJyb3JcIlxuICAgICAgICBVc2VyLmZpbmRPbmVBbmRVcGRhdGUoe1wiZW1haWxcIjogZW1haWx9LCBcbiAgICAgICAge1xuICAgICAgICAgIHdhbGxldDogd2FsbGV0LFxuICAgICAgICB9LCAoZXJyLCB1cGRhdGVkVXNlcikgPT4ge1xuICAgICAgICAgIGlmKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJ1cGRhdGVkXCIpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH0gXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcbiAgIH1cbiAgfSBlbHNlIGlmIChyZXEubWV0aG9kID09PSAnUFVUJykge1xuICAgIHRyeXtcbiAgICAgIGNvbnN0IGVtYWlsID0gcmVxLmJvZHkuZW1haWw7XG4gICAgICBjb25zdCB0b2tlbklkID0gcmVxLmJvZHkudG9rZW5JZDtcbiAgICAgIGNvbnN0IGluZGV4ID0gcmVxLmJvZHkuaW5kZXg7XG4gICAgICAvLyBjb25zb2xlLmxvZyhyZXEuYm9keSk7XG4gICAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe1wiZW1haWxcIjogZW1haWx9KTtcbiAgICAgIGlmKCFleGlzdGluZ1VzZXIpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJ1NvcnJ5LCBwbGVhc2UgbG9naW4gYnkgeW91ciB0d2l0dGVyIGFjY291bnQgZmlyc3QhJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL3VwZGF0ZSB0aGUgdXNlciBoZXJlLCBzaG91bGQgd2l0aG91dCBhd2FpdCB0byBhdm9pZCBcInF1ZXJ5IHNlbnQgZXJyb3JcIlxuICAgICAgICBleGlzdGluZ1VzZXIubWludFBhc3NJZC5wdXNoKHRva2VuSWQpOy8vcHVzaCB3aWxsIHJldHVybiBuZXcgbGVuZ3RoIG9mIHRoZSBhcnJheVxuICAgICAgICAvLyBjb25zdCBjdXRJbWdBcnIgPSBleGlzdGluZ1VzZXIuaW1hZ2VzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIC8vdGhlIGFib3ZlIGFycmF5IHdpbGwgYmUgdGhlIHBhcnQgY3V0XG4gICAgICAgIGV4aXN0aW5nVXNlci5pbWFnZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgVXNlci5maW5kT25lQW5kVXBkYXRlKHtcImVtYWlsXCI6IGVtYWlsfSwgXG4gICAgICAgIHtcbiAgICAgICAgICBtaW50UGFzc0lkOiBleGlzdGluZ1VzZXIubWludFBhc3NJZCxcbiAgICAgICAgICBpbWFnZXM6IGV4aXN0aW5nVXNlci5pbWFnZXMsXG4gICAgICAgICAgYWxsb3dTdWJtaXNzaW9uOiBmYWxzZSxcbiAgICAgICAgICBzdWJtaXNzaW9uVGltZTogbmV3IERhdGUoKVxuICAgICAgICB9LCAoZXJyLCB1cGRhdGVkVXNlcikgPT4ge1xuICAgICAgICAgIGlmKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZW1vdmVkXCIpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIClcbiAgICAgIH0gXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKTtcbiAgIH1cbiAgfVxufSJdLCJuYW1lcyI6WyJjb25uZWN0IiwiVXNlciIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJjYXRjaGVyIiwiZXJyIiwic3RhdHVzIiwianNvbiIsIm1ldGhvZCIsImVtYWlsIiwicXVlcnkiLCJmaW5kT25lIiwiY2F0Y2giLCJib2R5Iiwid2FsbGV0IiwiYWNjb3VudCIsImV4aXN0aW5nVXNlciIsInNlbmQiLCJmaW5kT25lQW5kVXBkYXRlIiwidXBkYXRlZFVzZXIiLCJjb25zb2xlIiwibG9nIiwidG9rZW5JZCIsImluZGV4IiwibWludFBhc3NJZCIsInB1c2giLCJpbWFnZXMiLCJzcGxpY2UiLCJhbGxvd1N1Ym1pc3Npb24iLCJzdWJtaXNzaW9uVGltZSIsIkRhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/users/index.js\n");

/***/ }),

/***/ "(api)/./utils/connection.js":
/*!*****************************!*\
  !*** ./utils/connection.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"connect\": () => (/* binding */ connect)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst { DATABASE_URL  } = process.env;\nif (!DATABASE_URL) {\n    throw new Error('Please define the DATABASE_URL environment variable inside .env.local');\n}\nconst connect = async ()=>{\n    const connectMongoDB = await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(DATABASE_URL).catch((err)=>console.log(err)\n    );\n    console.log(\"Mongo connection established\");\n    return connectMongoDB;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi91dGlscy9jb25uZWN0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQjtBQUUvQixLQUFLLENBQUMsQ0FBQyxDQUFDQyxZQUFZLEVBQUMsQ0FBQyxHQUFHQyxPQUFPLENBQUNDLEdBQUc7QUFFcEMsRUFBRSxHQUFHRixZQUFZLEVBQUUsQ0FBQztJQUNoQixLQUFLLENBQUMsR0FBRyxDQUFDRyxLQUFLLENBQ2IsQ0FBdUU7QUFFN0UsQ0FBQztBQUVNLEtBQUssQ0FBQ0MsT0FBTyxhQUFlLENBQUM7SUFFaEMsS0FBSyxDQUFDQyxjQUFjLEdBQUcsS0FBSyxDQUFDTix1REFDckIsQ0FBQ0MsWUFBWSxFQUNwQk0sS0FBSyxFQUFDQyxHQUFHLEdBQUlDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixHQUFHOztJQUU3QkMsT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBOEI7SUFFMUMsTUFBTSxDQUFDSixjQUFjO0FBQ3pCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9taW5kZnVsX3Rva2VuLy4vdXRpbHMvY29ubmVjdGlvbi5qcz8xODNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcblxuY29uc3QgeyBEQVRBQkFTRV9VUkwgfSA9IHByb2Nlc3MuZW52O1xuXG5pZiAoIURBVEFCQVNFX1VSTCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdQbGVhc2UgZGVmaW5lIHRoZSBEQVRBQkFTRV9VUkwgZW52aXJvbm1lbnQgdmFyaWFibGUgaW5zaWRlIC5lbnYubG9jYWwnXG4gICAgKVxufVxuXG5leHBvcnQgY29uc3QgY29ubmVjdCA9IGFzeW5jICgpID0+IHtcblxuICAgIGNvbnN0IGNvbm5lY3RNb25nb0RCID0gYXdhaXQgbW9uZ29vc2VcbiAgICAuY29ubmVjdChEQVRBQkFTRV9VUkwpXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxuXG4gICAgY29uc29sZS5sb2coXCJNb25nbyBjb25uZWN0aW9uIGVzdGFibGlzaGVkXCIpO1xuXG4gICAgcmV0dXJuIGNvbm5lY3RNb25nb0RCXG59XG5cbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIkRBVEFCQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJFcnJvciIsImNvbm5lY3QiLCJjb25uZWN0TW9uZ29EQiIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./utils/connection.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/users/index.js"));
module.exports = __webpack_exports__;

})();